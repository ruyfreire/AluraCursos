<div class="container">

    <h4 class="text-center"> Registre seu usuário no Alurapic! </h4>

    <form [formGroup]="signupForm" class="form mt-4" (submit)="signup()">

        <div class="form-group">
            <input #emailInput formControlName="email" class="form-control" placeholder="email" autofocus>
            <ap-vmessage 
                *ngIf="signupForm.get('email').errors?.required"
                text="Email requerido!">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('email').errors?.email"
                text="E-mail inválido">
            </ap-vmessage>            
        </div>
    
        <div class="form-group">
            <input formControlName="fullName" class="form-control" placeholder="full name">
            <ap-vmessage 
                *ngIf="signupForm.get('fullName').errors?.required"
                text="Nome completo requerido!">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('fullName').errors?.minlength"
                text="Tamanho mínimo é 5">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('fullName').errors?.maxlength"
                text="Tamanho máximo é 40">
            </ap-vmessage>              
        </div>
    
        <div class="form-group">
            <input formControlName="userName" class="form-control" placeholder="user name">
            <ap-vmessage 
                *ngIf="signupForm.get('userName').errors?.required"
                text="Nome de usuário requerido!">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('userName').errors?.minlength"
                text="Tamanho mínimo é 3">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('userName').errors?.maxlength"
                text="Tamanho máximo é 30">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('userName').errors?.lowerCase"
                text="Usuário deve ser minúsculo, e iniciar com letra">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('userName').errors?.userNameTaken"
                text="Nome de usuário já existe">
            </ap-vmessage> 
            <small *ngIf="signupForm.get('userName').valid" class="text-success">Usuário disponível</small>
        </div>
    
        <div class="form-group">
            <input formControlName="password" type="password" class="form-control" placeholder="password">
            <ap-vmessage 
                *ngIf="signupForm.get('password').errors?.required"
                text="Senha requerida!">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('password').errors?.minlength"
                text="Tamanho mínimo é 8">
            </ap-vmessage>
            <ap-vmessage 
                *ngIf="signupForm.get('password').errors?.maxlength"
                text="Tamanho máximo é 14">
            </ap-vmessage>
        </div>

        <button [disabled]="signupForm.invalid || signupForm.pending" class="btn btn-primary btn-block">Registrar</button>
        
        <p>Já tem usuário?
            <a [routerLink]="['']">Faça login</a>
        </p>

    </form>

</div>